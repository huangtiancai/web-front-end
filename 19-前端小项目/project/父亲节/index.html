<!doctype html>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="Keywords" content="关键词,关键词">
  <meta name="Description" content="">
  <meta name="viewport" content="width=device-width; initial-scale=1.0">
  <title>父亲节快乐</title>
  <style type="text/css">
    * {
	margin:0;
	padding:0;
	}
	html,body {
		height:100%;
	}
	body {
		background:url("images/bgg.jpg");
		background-size:cover;
		font-size:12px;
		font-family:"微软雅黑";
	}
	.farther {
		width:322px;
		margin:30px auto;
		height:100%;
	}
	.farther .p_top {
		background:url("images/phone_top.png");
		height:42px;
	}
	.farther .p_info {
		background:url("images/top.jpg");
		height:20px;
	}
	.farther .p_title {
		background:#000;
		text-align:center;
		font-size:18px;
		color:#fff;
		height:40px;
		border-right:1px solid #fff;
		border-left:1px solid #fff;
		line-height:40px;
		position:relative;
	}
	.farther .p_con {
		height:486px;
		border-right:1px solid #fff;
		border-left:1px solid #fff;
		background-size:cover;
		overflow:auto;
	}
	.farther .logo {
		position:absolute;
		right:24px;
		top:57px;
		cursor:pointer;
		width:30px;
		height:30px;
	}
	.farther .p_con .jk li {
		list-style:none;
		font-size:14px;
		color:#000;
		line-height:26px;
		padding-left:18px;
		transition:font-size .6s ease;
		height:26px;
	}
	.farther .p_con .jk li.sel {
		font-size:18px;
		color:#FF5656;
	}
	.farther .p_bottom {
		background:url("images/phone_bottom.png");
		height:47px;
	}
	.lrc {
		display:none;
	}
	.p_con .kkk {
		width:100%;
	}
	.p_con .kkk li {
		width:320px;
		height:486px;
		position:absolute;
		list-style:none;
		z-index:-1;
		opacity:0;
	}
	.p_con .kkk li:first-child{opacity:1;}
	.quote {
		animation:play 1.5s infinite linear;
	}
	@keyframes play {
		100% {
			transform:rotate(360deg);
		}
	}
	
	/*滚动条*/
	::-webkit-scrollbar {
		width:3px;
		height:10px;
	}
	::-webkit-scrollbar-track {
		background:0 0;
	}
	::-webkit-scrollbar-track-piece {
		background:#fff;
	}
	::-webkit-scrollbar-thumb {
		background-color:#5a5a5a;
		border-radius:5px;
	}
	::-webkit-scrollbar-thumb:hover {
		background-color:#868686;
	}
	::-webkit-scrollbar-corner {
		background:#535353;
	}
	::-webkit-scrollbar-resizer {
		background:#FF0BEE;
	}
	scrollbar {
		-moz-appearance:none !important;
		background:rgb(0,255,0) !important;
	}
	scrollbarbutton {
		-moz-appearance:none !important;
		background-color:rgb(0,0,255) !important;
	}
	scrollbarbutton:hover {
		-moz-appearance:none !important;
		background-color:rgb(255,0,0) !important;
	}
	/* 隐藏上下箭头 */
	 scrollbarbutton {
		display:none !important;
	}
	/* 纵向滚动条宽度 */
	 scrollbar[orient="vertical"] {
		min-width:3px !important;
	}
	/*当屏幕小于580时*/
	@media screen and (max-width:580px) {
		.farther {
			width:100%;
			margin:0;
		}
		.farther .p_top,.farther .p_info,.farther .p_bottom {
			display:none;
		}
		.p_con .kkk li {
			width:100%;
			height:100%;
		}
		.farther .p_con {
			height:100%;
		}
		.farther .p_title,.farther .p_con {
			border:none;
		}
	}

  </style>
 </head>
 <body>
	<div class="farther">
		<div class="p_top"></div>
		<div class="p_info"></div>
		<div class="p_title">父亲节快乐！--Krry
		<span class="logo quote"><img src="images/music.svg" width="30" height="30"/></span></div>
		<div class="p_con">
			<ul class="kkk">
				<li class="k_1"></li>
				<li class="k_2"></li>
				<li class="k_3"></li>
				<li class="k_4"></li>
				<li class="k_5"></li>
				<li class="k_6"></li>
			</ul>
		</div>
		<div class="p_bottom"></div>
	</div>
	<textarea class="lrc">
[00:03.83]
[00:03.84]
[00:00.84]
[00:03.84]
[00:03.84]
[00:03.85]
[00:03.85]
[00:03.85]
[00:2.00]筷子兄弟 - 父亲
[00:15.19]词曲：筷子兄弟
[00:26.31]总是向你索取 却不曾说谢谢你
[00:32.21]直到长大以后 才懂得你不容易
[00:39.11]每次离开总是 装做轻松的样子
[00:45.32]微笑着说回去吧 转身泪湿眼底
[00:52.10]多想和从前一样 牵你温暖手掌
[00:58.47]可是你不在我身旁 托清风捎去安康
[01:07.52]
[01:08.71]时光时光慢些吧 不要再让你再变老了
[01:15.29]我愿用我一切 换你岁月长留
[01:21.07]一生要强的爸爸 我能为你做些什么
[01:28.48]微不足道的关心收下吧
[01:32.89]
[01:35.06]谢谢你做的一切 双手撑起我们的家
[01:41.41]总是竭尽所有 把最好的给我
[01:47.27]我是你的骄傲吗 还在为我而担心吗
[01:54.77]你牵挂的孩子啊 长大啦~~~~~
[01:59.58]
[02:34.30]多想和从前一样 牵你温暖手掌
[02:40.32]可是你不在我身旁 托清风捎去安康
[02:48.51]
[02:50.56]时光时光慢些吧 不要再让你再变老了
[02:57.10]我愿用我一切 换你岁月长留
[03:03.14]一生要强的爸爸 我能为你做些什么
[03:10.36]微不足道的关心收下吧
[03:14.77]
[03:17.13]谢谢你做的一切 双手撑起我们的家
[03:23.44]总是竭尽所有 把最好的给我
[03:29.70]我是你的骄傲吗 还在为我而担心吗
[03:36.42]你牵挂的孩子啊 长大啦~~~~~
[03:41.79]
[03:43.03]时光时光慢些吧 不要再让你再变老了
[03:49.82]我愿用我一切 换你岁月长留
[03:56.37]我是你的骄傲吗 还在为我而担心吗
[04:02.81]你牵挂的孩子啊 长大啦~~~~~
[04:07.79]
[04:09.40]感谢一路上有你
[03:26.38]
[03:27.38]
[03:28.38]
[03:28.38]
[03:28.38]
[03:28.38]
[03:28.38]
	</textarea>
	<script src="js/jquery-1.11.1.min.js"></script>
	<script>
		$(function(){
			var musicDom = document.createElement("audio");
			musicDom.src="mp3/筷子兄弟 - 父亲.mp3";
			musicDom.autoplay = "autoplay";
			musicDom.loop = "loop"; //重复播放

			var close = true;
			//点击暂停
			$(".logo").click(function(){
				if(close){
					musicDom.pause();
					$(this).removeClass("quote");
					close = false;
				}else{
					close = true;
					musicDom.play();
					$(this).addClass("quote");
				}
			});
			//获取歌词
			var Orlrc = $(".lrc").text();
			//第一次分离歌词，以“[”分离，获得数组["00:00.00]","筷子兄弟 - 父亲"]
			var lrcF = Orlrc.split("[");

			var html = "<ul class='jk'>";
			for(var i = 0;i < lrcF.length;i++){
				//第二次分割，以]分割，获得数组["00:00.00","筷子兄弟 - 父亲"]
				var lrcC = lrcF[i].split("]");
				//取到歌词
				var lrcMsg = lrcC[1];
				//取到时间["00:00","00"]
				var time = lrcC[0].split(".");
				//拿到分钟和秒["00,"00"]
				var stime = time[0].split(":");
				//把时间转换成秒
				var ctime = stime[0]*60 + stime[1]*1;

				if(lrcMsg){ //时间作为id，歌词作为内容
					html += "<li id='"+ctime+"'>"+lrcMsg+"</li>";
				}
				
			}
			html += "</ul>";
			//放入歌词区域
			$(".p_con").append(html);


			//当屏幕宽度小于580px时，给.p_con和背景图片的每个li减去title的高度40px
			var pingWidth = $("body").width();
			var liWidth = $(".farther").height();
			if(pingWidth<580){
				$(".farther .p_con").height(liWidth-40);
				$(".kkk li").height(liWidth-40);
			}
			$(window).resize(function(){
				pingWidth = $("body").width();
				if(pingWidth<580){
					liWidth = $(".farther").height();
					$(".farther .p_con").height(liWidth-40);
					$(".kkk li").height(liWidth-40);
				}else{
					$(".farther .p_con").height(486);
					$(".kkk li").height(486);
				}
			});


			//歌词联动
			musicDom.addEventListener("timeupdate",function(){
				//定义歌词显示区域的一半
				var harfHeight = (liWidth-40)/2;
				
				//获取当前播放时间
				var cutime = this.currentTime;
				//通过时间来驱动歌词
				var s = parseInt(cutime);
				for(var i = 0;i < s;i++){
					$("#"+s).addClass("sel").siblings().removeClass("sel");
				}
				$(".p_con").animate({
					scrollTop:($(".sel").index()+1)*30 - harfHeight
				},260);
			});

			setBack();
			//设置背景图片
			function setBack(){
				//获取图片
				for(var i = 1;i<7;i++){
					$(".k_"+i).css({
						background:"url('images/"+i+".jpg')",
						backgroundSize:"cover",
					});
				}
			}
			//背景图片的定时切换
			var Index = 0;
			setInterval(function(){
				Index++;
				if(Index > 5) Index = 0;
				$(".p_con ul li").eq(Index).show().animate({"opacity":1},1500).siblings().animate({"opacity":0},1500);
			},4500);
		});
	</script>
 </body>
</html>
