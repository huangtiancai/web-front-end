<!doctype html>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="Keywords" content="关键词,关键词">
  <meta name="Description" content="">
  <meta name="viewport" content="width=device-width; initial-scale=1.0">
  <title>母亲节快乐！</title>
  <style type="text/css">
    * {
	margin:0;
	padding:0;
	}
	html,body {
		height:100%;
	}
	body {
		background:url("images/bgg.jpg");
		background-size:cover;
		font-size:12px;
		font-family:"微软雅黑";
	}
	.farther {
		width:322px;
		margin:30px auto;
		height:100%;
	}
	.farther .p_top {
		background:url("images/phone_top.png");
		height:42px;
	}
	.farther .p_info {
		background:url("images/top.jpg");
		height:20px;
	}
	.farther .p_title {
		background:#000;
		text-align:center;
		font-size:18px;
		color:#fff;
		height:40px;
		border-right:1px solid #fff;
		border-left:1px solid #fff;
		line-height:40px;
		position:relative;
	}
	.farther .p_con {
		height:486px;
		border-right:1px solid #fff;
		border-left:1px solid #fff;
		background-size:cover;
		overflow:auto;
	}
	.farther .logo {
		position:absolute;
		right:24px;
		top:57px;
		cursor:pointer;
		width:30px;
		height:30px;
	}
	.farther .p_con .jk li {
		list-style:none;
		font-size:14px;
		color:#000;
		line-height:26px;
		padding-left:18px;
		transition:font-size .6s ease;
		height:26px;
	}
	.farther .p_con .jk li.sel {
		font-size:18px;
		color:#FF5656;
	}
	.farther .p_bottom {
		background:url("images/phone_bottom.png");
		height:47px;
	}
	.lrc {
		display:none;
	}
	.p_con .kkk {
		width:100%;
	}
	.p_con .kkk li {
		width:320px;
		height:486px;
		position:absolute;
		list-style:none;
		z-index:-1;
		opacity:0;
	}
	.p_con .kkk li:first-child{opacity:1;}
	.quote {
		animation:play 1.5s infinite linear;
	}
	@keyframes play {
		100% {
			transform:rotate(360deg);
		}
	}
	
	/*滚动条*/
	::-webkit-scrollbar {
		width:3px;
		height:10px;
	}
	::-webkit-scrollbar-track {
		background:0 0;
	}
	::-webkit-scrollbar-track-piece {
		background:#fff;
	}
	::-webkit-scrollbar-thumb {
		background-color:#5a5a5a;
		border-radius:5px;
	}
	::-webkit-scrollbar-thumb:hover {
		background-color:#868686;
	}
	::-webkit-scrollbar-corner {
		background:#535353;
	}
	::-webkit-scrollbar-resizer {
		background:#FF0BEE;
	}
	scrollbar {
		-moz-appearance:none !important;
		background:rgb(0,255,0) !important;
	}
	scrollbarbutton {
		-moz-appearance:none !important;
		background-color:rgb(0,0,255) !important;
	}
	scrollbarbutton:hover {
		-moz-appearance:none !important;
		background-color:rgb(255,0,0) !important;
	}
	/* 隐藏上下箭头 */
	 scrollbarbutton {
		display:none !important;
	}
	/* 纵向滚动条宽度 */
	 scrollbar[orient="vertical"] {
		min-width:3px !important;
	}
	/*当屏幕小于580时*/
	@media screen and (max-width:580px) {
		.farther {
			width:100%;
			margin:0;
		}
		.farther .p_top,.farther .p_info,.farther .p_bottom {
			display:none;
		}
		.p_con .kkk li {
			width:100%;
			height:100%;
		}
		.farther .p_con {
			height:100%;
		}
		.farther .p_title,.farther .p_con {
			border:none;
		}
	}

  </style>
 </head>
 <body>
	<div class="farther">
		<div class="p_top"></div>
		<div class="p_info"></div>
		<div class="p_title">母亲节快乐！--Krry
		<span class="logo quote"><img src="images/music.svg" width="30" height="30"/></span></div>
		<div class="p_con">
			<ul class="kkk">
				<li class="k_1"></li>
				<li class="k_2"></li>
				<li class="k_3"></li>
				<li class="k_4"></li>
				<li class="k_5"></li>
				<li class="k_6"></li>
			</ul>
		</div>
		<div class="p_bottom"></div>
	</div>
	<textarea class="lrc">
[00:03.83]
[00:03.84]
[00:00.84]
[00:03.84]
[00:03.84]
[00:03.85]
[00:03.85]
[00:03.85]
[00:00.10]烛光里的妈妈 - 羽泉
[00:00.20]词：李春利
[00:00.30]曲：谷建芬
[00:00.40]
[00:29.73]妈 我想对您说
[00:36.10]话到嘴边又咽下
[00:44.07]妈 我想对您笑
[00:51.12]眼里却点点泪花
[00:56.18]
[00:58.43]噢妈妈 烛光里的妈妈
[01:05.16]您的黑发泛起了霜花
[01:12.40]噢妈妈 烛光里的妈妈
[01:19.70]您的脸颊印着这多牵挂
[01:27.07]噢妈妈 烛光里的妈妈
[01:34.24]您的腰身倦得不再挺拔
[01:41.79]噢妈妈 烛光里的妈妈
[01:48.78]您的眼睛为何失去了光华
[01:55.91]妈妈呀 孩儿已长大
[02:03.22]不愿牵着您的衣襟
[02:07.72]走过春秋冬夏
[02:29.45]妈妈 烛光里的妈妈
[02:36.12]您的黑发泛起了霜花
[02:43.49]噢妈妈 烛光里的妈妈
[02:50.60]您的脸颊印着这多牵挂
[02:58.26]噢妈妈 烛光里的妈妈
[03:05.75]您的腰身变得不再挺拔
[03:12.61]噢妈妈 烛光里的妈妈
[03:19.67]您的眼睛为何失去了光华
[03:26.71]妈妈呀 孩儿已长大
[03:34.39]不能牵着您的衣襟
[03:38.34]走过春秋冬夏
[03:53.04]妈妈
[03:55.16]烛光里的妈妈
[03:59.72]您的腰身变得不再挺拔
[04:05.21]
[04:07.21]妈妈
[04:09.64]烛光里的妈妈
[04:14.59]您的眼睛不要失去那光华
[04:21.21]妈妈呀孩儿已长大
[04:28.93]不想陪在你身边
[04:33.98]怎能走过春秋冬夏
[03:26.38]
[03:27.38]
[03:28.38]
[03:28.38]
[03:28.38]
[03:28.38]
[03:28.38]
	</textarea>
	<script src="js/jquery-1.11.1.min.js"></script>
	<script>
		$(function(){
			var musicDom = document.createElement("audio");
			musicDom.src="mp3/1.mp3";
			musicDom.autoplay = "autoplay";
			musicDom.loop = "loop"; //重复播放

			var close = true;
			//点击暂停
			$(".logo").click(function(){
				if(close){
					musicDom.pause();
					$(this).removeClass("quote");
					close = false;
				}else{
					close = true;
					musicDom.play();
					$(this).addClass("quote");
				}
			});
			//获取歌词
			var Orlrc = $(".lrc").text();
			//第一次分离歌词，以“[”分离，获得数组["00:00.00]","筷子兄弟 - 父亲"]
			var lrcF = Orlrc.split("[");

			var html = "<ul class='jk'>";
			for(var i = 0;i < lrcF.length;i++){
				//第二次分割，以]分割，获得数组["00:00.00","筷子兄弟 - 父亲"]
				var lrcC = lrcF[i].split("]");
				//取到歌词
				var lrcMsg = lrcC[1];
				//取到时间["00:00","00"]
				var time = lrcC[0].split(".");
				//拿到分钟和秒["00,"00"]
				var stime = time[0].split(":");
				//把时间转换成秒
				var ctime = stime[0]*60 + stime[1]*1;

				if(lrcMsg){ //时间作为id，歌词作为内容
					html += "<li id='"+ctime+"'>"+lrcMsg+"</li>";
				}
				
			}
			html += "</ul>";
			//放入歌词区域
			$(".p_con").append(html);


			//当屏幕宽度小于580px时，给.p_con和背景图片的每个li减去title的高度40px
			var pingWidth = $("body").width();
			var liWidth = $(".farther").height();
			if(pingWidth<580){
				$(".farther .p_con").height(liWidth-40);
				$(".kkk li").height(liWidth-40);
			}
			$(window).resize(function(){
				pingWidth = $("body").width();
				if(pingWidth<580){
					liWidth = $(".farther").height();
					$(".farther .p_con").height(liWidth-40);
					$(".kkk li").height(liWidth-40);
				}else{
					$(".farther .p_con").height(486);
					$(".kkk li").height(486);
				}
			});


			//歌词联动
			musicDom.addEventListener("timeupdate",function(){
				//定义歌词显示区域的一半
				var harfHeight = (liWidth-40)/2;
				
				//获取当前播放时间
				var cutime = this.currentTime;
				//通过时间来驱动歌词
				var s = parseInt(cutime);
				for(var i = 0;i < s;i++){
					$("#"+s).addClass("sel").siblings().removeClass("sel");
				}
				$(".p_con").animate({
					scrollTop:($(".sel").index()+1)*30 - harfHeight
				},260);
			});

			setBack();
			//设置背景图片
			function setBack(){
				//获取图片
				for(var i = 1;i<7;i++){
					$(".k_"+i).css({
						background:"url('images/"+i+".jpg')",
						backgroundSize:"cover",
					});
				}
			}
			//背景图片的定时切换
			var Index = 0;
			setInterval(function(){
				Index++;
				if(Index > 5) Index = 0;
				$(".p_con ul li").eq(Index).show().animate({"opacity":1},1500).siblings().animate({"opacity":0},1500);
			},4500);
		});
	</script>
 </body>
</html>
